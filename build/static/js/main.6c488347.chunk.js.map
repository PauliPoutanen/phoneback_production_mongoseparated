{"version":3,"sources":["components/Person.js","components/Personsform.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleWipeout","name","number","onClick","id","Personsform","onSubmit","newName","newNumber","handleNameChange","handleNumberChange","value","onChange","type","Filter","baseUrl","request","axios","get","nonExisting","then","response","data","concat","newObject","post","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","setErrorMessage","useEffect","personService","initialPersons","dude","find","window","confirm","leftPersons","filter","catch","error","alert","setTimeout","p","map","event","preventDefault","personCheck","personObject","returnedPerson","includes","console","log","target","rex","RegExp","searchkriteria","match","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c488347.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Person = ({ person, handleWipeout}) => {\r\n  return (\r\n    <li>{person.name} {person.number} \r\n  {''}  {''}  {''} \r\n  <button onClick={()=>handleWipeout(person.id)}>Delete</button>\r\n  \r\n\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from \"react\"\r\n\r\nconst Personsform =({onSubmit, newName, newNumber, handleNameChange, handleNumberChange}) =>\r\n<form onSubmit={onSubmit}>\r\n<div>NAME:\r\n    <input value={newName}\r\n    onChange={handleNameChange} />\r\n</div> \r\n<div>NUMBER:\r\n    <input value={newNumber}\r\n    onChange={handleNumberChange} />\r\n</div>\r\n<button type=\"submit\">Add contact to book</button>\r\n\r\n</form>\r\n\r\n\r\n\r\nexport default Personsform\r\n","import React from \"react\"\r\n\r\nconst Filter = ({value, onChange}) =>\r\n<div>\r\n\r\n\r\n\r\nSEARCH: <input value={value} onChange={onChange} />\r\n\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/pb'\r\n\r\nconst getAll2 = () => {\r\nconst request = axios.get(baseUrl)\r\nreturn request.then(response => response.data)\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    const nonExisting = {\r\n  id: 10000,\r\n  name: 'This NUMBER is NOT-EXISTING in DB!',\r\n   number: '66666666666-666',\r\n    }\r\n    return request.then(response => response.data.concat(nonExisting))\r\n  }\r\n\r\n\r\nconst create = newObject => {\r\nconst request = axios.post(baseUrl, newObject)\r\nreturn request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n    }\r\n\r\nexport default { getAll, create, remove }","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Personsform from './components/Personsform'\nimport Filter from './components/Filter'\n\nimport personService from './services/persons'\nimport './index.css'\n\n\n// use command npx json-server --port=3001 --watch db.json to start db //\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState('some error happened...')\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\nconst addNewPerson =(event) => {\n\n  event.preventDefault()\nconst personCheck= persons.map(person => person.name)\nconst personObject= {\n\n  name: newName,\n  number: newNumber\n}\n\n\npersonService\n    .create(personObject)\n      .then(returnedPerson => {\n\n     \n  \n\nif (personCheck.includes(`${personObject.name}`))\nwindow.confirm(`Name ${newName} already exists!`)\n\n\nelse\n\nsetPersons(persons.concat(returnedPerson))\n\nsetNewName('')\nsetNewNumber('')\n})\n}\n\nconst handleNameChange =(event) =>{\n  console.log(event.target.value)\n  setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) =>{\n  console.log(event.target.value)\n  setNewNumber(event.target.value)\n}\n\nconst handleWipeout = (id) => {\nconst dude = persons.find((dude) => dude.id === id)\nconst confirmWipe = window.confirm(`Delete ${dude.name} for real?`)\n\nif (confirmWipe) {\n  personService\n  .remove(id)\n  .then(() => {\n    const leftPersons = persons.filter((person) => person.id !==id)\n    setPersons(leftPersons)\n  })\n  .catch(error => {\n   alert(\n      `HELLO YOU!! Contact was already deleted from server`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 500)\n  setPersons(persons.filter(p => p.id !== id))\n})\n\n}\n}\n\nconst handleFilterChange =(event) =>{\n  console.log('Typing filter input field', event.target.value)\n  setNewFilter(event.target.value)\nconst rex = new RegExp(newFilter)\nconst searchkriteria = persons.filter(person => person.name.match(rex))\nsetPersons(searchkriteria)\n\n\n}\n\n\n  return (\n\n\n  <div>\n\n  <h1>PHONEBOOK DATABASE</h1>\n\n\n<div>\n  <ul>\n{persons.map(person =>\n  <Person key={person.id} person={person} handleWipeout={handleWipeout} />)}\n\n  </ul>\n</div>\n<div>\n<div>\n\n\n</div>\n  <Personsform onSubmit={addNewPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n  <Filter value={newFilter} onChange={handleFilterChange} />\n \n  </div>\n  </div>\n\n)}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}